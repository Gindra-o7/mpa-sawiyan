---
import { Grid3x3, List } from "lucide-astro";
---

<div class="flex items-center gap-2 bg-white border border-gray-200 rounded-lg p-1">
  <button
    id="view-grid-btn"
    class="p-2 rounded-md bg-[#388E3C] text-white transition-all duration-200 view-toggle-btn"
    data-view="grid"
    aria-label="Grid View"
  >
    <Grid3x3 class="w-5 h-5" />
  </button>
  <button
    id="view-list-btn"
    class="p-2 rounded-md text-gray-600 hover:bg-gray-100 transition-all duration-200 view-toggle-btn"
    data-view="list"
    aria-label="List View"
  >
    <List class="w-5 h-5" />
  </button>
</div>

<script>
  const gridBtn = document.getElementById("view-grid-btn");
  const listBtn = document.getElementById("view-list-btn");
  const galleryContainer = document.querySelector("[data-gallery-container]");

  if (gridBtn && listBtn && galleryContainer) {
    const toggleView = (view: string) => {
      if (view === "grid") {
        galleryContainer.classList.remove("grid-cols-1");
        galleryContainer.classList.add("grid-cols-1", "sm:grid-cols-2", "lg:grid-cols-4");
        
        gridBtn.classList.add("bg-[#388E3C]", "text-white");
        gridBtn.classList.remove("text-gray-600", "hover:bg-gray-100");
        listBtn.classList.remove("bg-[#388E3C]", "text-white");
        listBtn.classList.add("text-gray-600", "hover:bg-gray-100");
      } else {
        galleryContainer.classList.remove("sm:grid-cols-2", "lg:grid-cols-4");
        galleryContainer.classList.add("grid-cols-1");
        
        listBtn.classList.add("bg-[#388E3C]", "text-white");
        listBtn.classList.remove("text-gray-600", "hover:bg-gray-100");
        gridBtn.classList.remove("bg-[#388E3C]", "text-white");
        gridBtn.classList.add("text-gray-600", "hover:bg-gray-100");
      }
    };

    gridBtn.addEventListener("click", () => toggleView("grid"));
    listBtn.addEventListener("click", () => toggleView("list"));
  }
</script>

